apiVersion: argoproj.io/v1alpha1
kind: WorkflowTemplate
metadata:
  name: ndadownloader-long-workflow-template
  namespace: argo-workflows
spec:
  # securityContext:
  #   runAsUser: 1000
  #   runAsGroup: 1000
  #   runAsNonRoot: true

  templates:
    - name: ndadownloader-long-template
      inputs:
        parameters:
          - name: ndaGUID
            value: '{{ workflow.parameters.ndaGUID }}'
          - name: subjID
            value: '{{ workflow.parameters.subjID }}'

      nodeSelector:
        karpenter.sh/nodepool: al2023-cpulight-nodepool

      container:
        imagePullPolicy: Always
        image: public.ecr.aws/l9e7l1h1/cloudpipe/nda-downloader:latest
        securityContext:
          runAsUser: 10001
          runAsGroup: 10001
          runAsNonRoot: true
        resources:
          requests:
            memory: 4Gi
            cpu: 700m
        # Argo makes us respecify the command (entrypoint) even if its already defined in the image
        # command: ["/home/nonroot/code/entrypoint.sh", "/home/nonroot/code/ndaDownload.py"]
        # command: ["ls", "-lahtr", "/home/nonroot"]
        # Arguments passed to the ndaDownloader container
        args:
          - '-i'
          - '{{ workflow.parameters.ndaGUID }}'
          - '-m'
          - '{{ workflow.parameters.miNDARpkgID }}'
          - '-u'
          - jrusse10
          - '-p'
          - 19Ireland61

      outputs:
        # Scans downloaded by ndaDownloader that we'll save in our artifact repository
        artifacts:

          #%%%%%%%% YEAR 0 (Y0) %%%%%%%%#

          ###### Anatomicals ######

          # T1w (required)
          - name: T1w-Y0
            # Container path to the scan file
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/anat/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_run-01_T1w.nii
            # S3 key where we'll store this file
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/anat/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_run-01_T1w.nii'
            # Don't compress the scan file before copying it to S3 (uses more temporary storage, but saves time)
            archive:
              none: {}
          - name: T1w-json-Y0
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/anat/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_run-01_T1w.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/anat/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_run-01_T1w.json'
            archive:
              none: {}
          # T2w
          - name: T2w-Y0
            # Do not fail the DAG if this scan is not available
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/anat/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_run-01_T2w.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/anat/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_run-01_T2w.nii'
            archive:
              none: {}
          - name: T2w-json-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/anat/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_run-01_T2w.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/anat/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_run-01_T2w.json'
            archive:
              none: {}

          ###### fMRI n-Back ######

          #--- Run 1 ---#
          # NIFTI
          - name: nBack-run-1-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-01_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-01_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-1-motion-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-01_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-01_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-1-events-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-01_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-01_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-1-json-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-01_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-01_bold.json'
            archive:
              none: {}

          #--- Run 2 ---#
          # NIFTI
          - name: nBack-run-2-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-02_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-02_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-2-motion-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-02_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-02_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-2-events-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-02_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-02_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-2-json-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-02_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-02_bold.json'
            archive:
              none: {}

          #--- Run 3 ---#
          # NIFTI
          - name: nBack-run-3-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-03_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-03_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-3-motion-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-03_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-03_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-3-events-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-03_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-03_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-3-json-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-03_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-03_bold.json'
            archive:
              none: {}

          #--- Run 4 ---#
          # NIFTI
          - name: nBack-run-4-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-04_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-04_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-4-motion-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-04_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-04_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-4-events-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-04_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-04_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-4-json-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-04_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-nback_run-04_bold.json'
            archive:
              none: {}
          
          ###### fMRI Resting State ######

          #--- Run 1 ---#
          # NIFTI
          - name: rest-run-1-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-01_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-01_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-1-motion-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-01_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-01_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-1-json-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-01_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-01_bold.json'
            archive:
              none: {}
          #--- Run 2 ---#
          # NIFTI
          - name: rest-run-2-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-02_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-02_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-2-motion-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-02_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-02_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-2-json-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-02_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-02_bold.json'
            archive:
              none: {}
          #--- Run 3 ---#
          # NIFTI
          - name: rest-run-3-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-03_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-03_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-3-motion-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-03_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-03_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-3-json-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-03_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-03_bold.json'
            archive:
              none: {}
          #--- Run 4 ---#
          # NIFTI
          - name: rest-run-4-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-04_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-04_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-4-motion-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-04_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-04_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-4-json-Y0
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-04_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-baselineYear1Arm1/func/{{ inputs.parameters.subjID }}_ses-baselineYear1Arm1_task-rest_run-04_bold.json'
            archive:
              none: {}


          #%%%%%%%% YEAR 2 (Y2) %%%%%%%%#

          ###### Anatomicals ######

          # T1w (required)
          - name: T1w-Y2
            optional: true
            # Container path to the scan file
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_run-01_T1w.nii
            # S3 key where we'll store this file
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_run-01_T1w.nii'
            # Don't compress the scan file before copying it to S3 (uses more temporary storage, but saves time)
            archive:
              none: {}
          - name: T1w-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_run-01_T1w.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_run-01_T1w.json'
            archive:
              none: {}
          # T2w
          - name: T2w-Y2
            # Do not fail the DAG if this scan is not available
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_run-01_T2w.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_run-01_T2w.nii'
            archive:
              none: {}
          - name: T2w-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_run-01_T2w.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_run-01_T2w.json'
            archive:
              none: {}

          ###### fMRI n-Back ######

          #--- Run 1 ---#
          # NIFTI
          - name: nBack-run-1-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-01_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-01_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-1-motion-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-01_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-01_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-1-events-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-01_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-01_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-1-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-01_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-01_bold.json'
            archive:
              none: {}

          #--- Run 2 ---#
          # NIFTI
          - name: nBack-run-2-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-02_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-02_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-2-motion-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-02_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-02_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-2-events-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-02_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-02_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-2-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-02_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-02_bold.json'
            archive:
              none: {}

          #--- Run 3 ---#
          # NIFTI
          - name: nBack-run-3-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-03_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-03_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-3-motion-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-03_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-03_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-3-events-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-03_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-03_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-3-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-03_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-03_bold.json'
            archive:
              none: {}

          #--- Run 4 ---#
          # NIFTI
          - name: nBack-run-4-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-04_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-04_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-4-motion-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-04_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-04_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-4-events-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-04_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-04_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-4-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-04_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-nback_run-04_bold.json'
            archive:
              none: {}
          
          ###### fMRI Resting State ######

          #--- Run 1 ---#
          # NIFTI
          - name: rest-run-1-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-01_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-01_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-1-motion-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-01_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-01_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-1-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-01_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-01_bold.json'
            archive:
              none: {}
          #--- Run 2 ---#
          # NIFTI
          - name: rest-run-2-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-02_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-02_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-2-motion-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-02_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-02_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-2-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-02_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-02_bold.json'
            archive:
              none: {}
          #--- Run 3 ---#
          # NIFTI
          - name: rest-run-3-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-03_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-03_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-3-motion-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-03_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-03_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-3-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-03_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-03_bold.json'
            archive:
              none: {}
          #--- Run 4 ---#
          # NIFTI
          - name: rest-run-4-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-04_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-04_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-4-motion-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-04_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-04_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-4-json-Y2
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-04_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-2YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-2YearFollowUpYArm1_task-rest_run-04_bold.json'
            archive:
              none: {}

          #%%%%%%%% YEAR 4 (Y4) %%%%%%%%#

          ###### Anatomicals ######

          # T1w (required)
          - name: T1w-Y4
            optional: true
            # Container path to the scan file
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_run-01_T1w.nii
            # S3 key where we'll store this file
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_run-01_T1w.nii'
            # Don't compress the scan file before copying it to S3 (uses more temporary storage, but saves time)
            archive:
              none: {}
          - name: T1w-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_run-01_T1w.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_run-01_T1w.json'
            archive:
              none: {}
          # T2w
          - name: T2w-Y4
            # Do not fail the DAG if this scan is not available
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_run-01_T2w.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_run-01_T2w.nii'
            archive:
              none: {}
          - name: T2w-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_run-01_T2w.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/anat/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_run-01_T2w.json'
            archive:
              none: {}

          ###### fMRI n-Back ######

          #--- Run 1 ---#
          # NIFTI
          - name: nBack-run-1-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-01_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-01_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-1-motion-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-01_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-01_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-1-events-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-01_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-01_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-1-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-01_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-01_bold.json'
            archive:
              none: {}

          #--- Run 2 ---#
          # NIFTI
          - name: nBack-run-2-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-02_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-02_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-2-motion-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-02_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-02_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-2-events-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-02_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-02_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-2-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-02_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-02_bold.json'
            archive:
              none: {}

          #--- Run 3 ---#
          # NIFTI
          - name: nBack-run-3-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-03_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-03_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-3-motion-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-03_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-03_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-3-events-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-03_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-03_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-3-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-03_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-03_bold.json'
            archive:
              none: {}

          #--- Run 4 ---#
          # NIFTI
          - name: nBack-run-4-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-04_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-04_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: nBack-run-4-motion-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-04_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-04_motion.tsv'
            archive:
              none: {}
          # Behavioral Data
          - name: nBack-run-4-events-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-04_events.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-04_events.tsv'
            archive:
              none: {}
          # JSON
          - name: nBack-run-4-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-04_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-nback_run-04_bold.json'
            archive:
              none: {}
          
          ###### fMRI Resting State ######

          #--- Run 1 ---#
          # NIFTI
          - name: rest-run-1-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-01_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-01_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-1-motion-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-01_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-01_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-1-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-01_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-01_bold.json'
            archive:
              none: {}
          #--- Run 2 ---#
          # NIFTI
          - name: rest-run-2-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-02_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-02_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-2-motion-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-02_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-02_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-2-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-02_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-02_bold.json'
            archive:
              none: {}
          #--- Run 3 ---#
          # NIFTI
          - name: rest-run-3-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-03_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-03_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-3-motion-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-03_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-03_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-3-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-03_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-03_bold.json'
            archive:
              none: {}
          #--- Run 4 ---#
          # NIFTI
          - name: rest-run-4-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-04_bold.nii
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-04_bold.nii'
            archive:
              none: {}
          # Motion Data
          - name: rest-run-4-motion-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-04_motion.tsv
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-04_motion.tsv'
            archive:
              none: {}
          # JSON
          - name: rest-run-4-json-Y4
            optional: true
            path: /home/nonroot/downloads/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-04_bold.json
            s3:
              key: 'inputs/{{ inputs.parameters.subjID }}/ses-4YearFollowUpYArm1/func/{{ inputs.parameters.subjID }}_ses-4YearFollowUpYArm1_task-rest_run-04_bold.json'
            archive:
              none: {}

